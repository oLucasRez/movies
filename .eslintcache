[{"E:\\movies\\src\\index.tsx":"1","E:\\movies\\src\\reportWebVitals.ts":"2","E:\\movies\\src\\App.tsx":"3","E:\\movies\\src\\services\\tmdb.ts":"4","E:\\movies\\src\\components\\Card\\index.tsx":"5","E:\\movies\\src\\mock\\movie.ts":"6","E:\\movies\\src\\utils\\getGenre.ts":"7","E:\\movies\\src\\components\\Circle\\index.tsx":"8","E:\\movies\\src\\Pages\\Search\\index.tsx":"9","E:\\movies\\src\\Pages\\Details\\index.tsx":"10","E:\\movies\\src\\history.ts":"11","E:\\movies\\src\\components\\Tag\\index.tsx":"12","E:\\movies\\src\\Pages\\Details\\Description\\index.tsx":"13","E:\\movies\\src\\components\\Navigator\\index.tsx":"14","E:\\movies\\src\\contexts\\PageContext.ts":"15","E:\\movies\\src\\hooks\\useStorageState.ts":"16"},{"size":500,"mtime":1611881807312,"results":"17","hashOfConfig":"18"},{"size":425,"mtime":1611873144104,"results":"19","hashOfConfig":"18"},{"size":551,"mtime":1612209957544,"results":"20","hashOfConfig":"18"},{"size":6450,"mtime":1612209957638,"results":"21","hashOfConfig":"18"},{"size":1177,"mtime":1612209957558,"results":"22","hashOfConfig":"18"},{"size":1169,"mtime":1612119535436,"results":"23","hashOfConfig":"18"},{"size":2743,"mtime":1612209957648,"results":"24","hashOfConfig":"18"},{"size":598,"mtime":1612209957564,"results":"25","hashOfConfig":"18"},{"size":2712,"mtime":1612213547216,"results":"26","hashOfConfig":"18"},{"size":1599,"mtime":1612209957545,"results":"27","hashOfConfig":"18"},{"size":91,"mtime":1612209957591,"results":"28","hashOfConfig":"18"},{"size":361,"mtime":1612209957580,"results":"29","hashOfConfig":"18"},{"size":2572,"mtime":1612209957544,"results":"30","hashOfConfig":"18"},{"size":2579,"mtime":1612209957570,"results":"31","hashOfConfig":"18"},{"size":358,"mtime":1612209957586,"results":"32","hashOfConfig":"18"},{"size":691,"mtime":1612209957591,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"nainie",{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"55","usedDeprecatedRules":"36"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},"E:\\movies\\src\\index.tsx",[],["70","71"],"E:\\movies\\src\\reportWebVitals.ts",[],"E:\\movies\\src\\App.tsx",[],"E:\\movies\\src\\services\\tmdb.ts",[],"E:\\movies\\src\\components\\Card\\index.tsx",[],"E:\\movies\\src\\mock\\movie.ts",[],["72","73"],"E:\\movies\\src\\utils\\getGenre.ts",[],"E:\\movies\\src\\components\\Circle\\index.tsx",[],["74","75"],"E:\\movies\\src\\Pages\\Search\\index.tsx",["76"],"import { useCallback, useEffect, useState } from 'react';\r\n\r\nimport Card from '../../components/Card';\r\nimport Navigator from '../../components/Navigator';\r\n\r\nimport { searchMoviesByGenre, searchMoviesByTitle } from '../../services/tmdb';\r\n\r\nimport useStorageState from '../../hooks/useStorageState';\r\n\r\nimport { getGenreByName } from '../../utils/getGenre';\r\n\r\nimport './styles.css';\r\nimport PageContext from '../../contexts/PageContext';\r\nimport ISearchMovies from '../../interfaces/ISearchMovies';\r\n//=============================================================================\r\nconst Search = () => {\r\n  const [movieSearch, setMovieSearch] = useState<ISearchMovies>();\r\n  const [currentPage, setCurrentPage] = useStorageState('current-page', 1);\r\n  const [query, setQuery] = useStorageState('query', '');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      const _movieSearch = await searchMovies(query, currentPage);\r\n      if (movieSearch !== _movieSearch) setMovieSearch(_movieSearch);\r\n    })();\r\n  }, [query, currentPage, movieSearch]);\r\n\r\n  useCallback(() => setCurrentPage(1), [query]);\r\n  useEffect(() => window.scrollTo(0, 0), [currentPage]);\r\n\r\n  const getRelativePage = (page: number) => (page - 1) % 4;\r\n\r\n  return (\r\n    <main className=\"search-container\">\r\n      <input\r\n        className=\"title\"\r\n        placeholder=\"Busque um filme por nome ou gÃªnero...\"\r\n        onChange={(e) => setQuery(e.target.value)}\r\n      />\r\n      <PageContext.Provider value={[currentPage, setCurrentPage]}>\r\n        {movieSearch ? (\r\n          <>\r\n            <ul>\r\n              {movieSearch.movies\r\n                .slice(\r\n                  getRelativePage(currentPage) * 5,\r\n                  getRelativePage(currentPage) * 5 + 5\r\n                )\r\n                .map((movie) => {\r\n                  return <Card key={movie.id} movie={movie} />;\r\n                })}\r\n            </ul>\r\n            <Navigator totalPages={movieSearch.totalPages} />\r\n          </>\r\n        ) : (\r\n          <p>sem resultados</p>\r\n        )}\r\n      </PageContext.Provider>\r\n    </main>\r\n  );\r\n};\r\n\r\nconst searchMovies = async (\r\n  query: string,\r\n  page: number\r\n): Promise<ISearchMovies> => {\r\n  const emptySearchMovie = {\r\n    movies: [],\r\n    page: 0,\r\n    totalMovies: 0,\r\n    totalPages: 0\r\n  };\r\n\r\n  if (!query.length) return emptySearchMovie;\r\n\r\n  const buffer = parseBuffer(page);\r\n\r\n  const genres = await getGenreByName(query);\r\n\r\n  const response = genres?.length\r\n    ? await searchMoviesByGenre(genres, buffer)\r\n    : await searchMoviesByTitle(query, buffer);\r\n\r\n  return response ?? emptySearchMovie;\r\n};\r\n\r\nconst parseBuffer = (page: number) => parseInt((page / 4 + 1).toFixed(0));\r\n\r\nexport default Search;\r\n","E:\\movies\\src\\Pages\\Details\\index.tsx",[],"E:\\movies\\src\\history.ts",[],"E:\\movies\\src\\components\\Tag\\index.tsx",[],"E:\\movies\\src\\Pages\\Details\\Description\\index.tsx",[],"E:\\movies\\src\\components\\Navigator\\index.tsx",[],"E:\\movies\\src\\contexts\\PageContext.ts",[],"E:\\movies\\src\\hooks\\useStorageState.ts",[],{"ruleId":"77","replacedBy":"78"},{"ruleId":"79","replacedBy":"80"},{"ruleId":"77","replacedBy":"81"},{"ruleId":"79","replacedBy":"82"},{"ruleId":"77","replacedBy":"83"},{"ruleId":"79","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":28,"column":40,"nodeType":"87","endLine":28,"endColumn":47,"suggestions":"88"},"no-native-reassign",["89"],"no-negated-in-lhs",["90"],["89"],["90"],["89"],["90"],"react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'setCurrentPage'. Either include it or remove the dependency array.","ArrayExpression",["91"],"no-global-assign","no-unsafe-negation",{"desc":"92","fix":"93"},"Update the dependencies array to be: [setCurrentPage]",{"range":"94","text":"95"},[1087,1094],"[setCurrentPage]"]